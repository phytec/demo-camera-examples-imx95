CAM_PHYCAM_NAME="VM-017 / VM-117"

camera_select_format_interactive() {
	camera_select_format
}

camera_select_format() {
	GST_FMT="video/x-raw,format=YUY2"
	GST_CONV=""
	CAM_FMT="SGRBG12_1X12"
	CAP_FMT="YUY2"
	YAVTA_FMT="YUYV"

	CTRLS=""
	if [ "$CAM_COLOR" = "COL" ] ; then
		CTRLS="${CTRLS},digital_gain_red=1000"
		CTRLS="${CTRLS},digital_gain_blue=1000"
		CTRLS="${CTRLS},digital_gain_green_red=1000"
		CTRLS="${CTRLS},digital_gain_green_blue=1000"
	fi

	# Remove leading comma, if one exists.
	CAM_FMT_CTRLS="${CTRLS##,}"
}

camera_select_mode_interactive() {

	echo ""
	echo "Select Camera Mode for VM-017 / VM-117"
	echo "======================================"
	echo "  1 = 2592 x 1944 Full"

	read MODE
	echo ""

	if [ -z "$MODE" ] ; then
		MODE="1"
	fi

	mode_configure $MODE

}

camera_select_mode() {

	case "$1" in
	"Full" | "Default")
		MODE="1"
		;;
	* )
		MODE="$1"
		;;
	esac

	mode_configure $MODE
}

mode_configure() {

	if [ -z "$1" ] ; then
		echo "No Mode selected to configure"
		exit 1
	fi

	CAP_FRAME_CNT="8"
	GST_SRC_OPTS=""

	CTRLS=""
	case $1 in
	"1" | "")
		CAM_MODENAME="2592x1944 Full"
		CAM_WIDTH="2592"
		CAM_HEIGHT="1944"
		CAM_OFFSET_TOP="4"
		CAM_OFFSET_LEFT="4"
		CAP_WIDTH="2592"
		CAP_HEIGHT="1944"
		LIBCAM_STREAM_ROLE=""
		CTRLS="${CTRLS},column_binning=0"
		;;
	*)	echo "Invalid mode selected: ${MODE}" ; exit 1
	esac

	# Remove leading comma, if one exists.
	CAM_MODE_CTRLS=${CTRLS##,}
}
