CAM_PHYCAM_NAME="VM-020 / VM-120"

camera_select_format_interactive() {
	camera_select_format
}

camera_select_format() {
	GST_FMT="video/x-raw,format=YUY2"
	GST_CONV=""
	CAM_FMT="SGRBG10_1X10"
	CAP_FMT="YUY2"
	YAVTA_FMT="YUYV"

	CTRLS=""
	CTRLS="${CTRLS},auto_exposure=1"
	CTRLS="${CTRLS},autogain_analogue=0"

	if [ "$CAM_COLOR" = "COL" ] ; then
		CTRLS="${CTRLS},digital_gain_red=1000"
		CTRLS="${CTRLS},digital_gain_blue=1000"
		CTRLS="${CTRLS},digital_gain_green_red=1000"
		CTRLS="${CTRLS},digital_gain_green_blue=1000"
	fi

	# Remove leading comma, if one exists.
	CAM_FMT_CTRLS="${CTRLS##,}"
}

camera_select_mode_interactive() {

	echo ""
	echo "Select Camera Mode for VM-020 / VM-120"
	echo "======================================"
	echo "  1 = 1920 x 1200 Full"

	read MODE
	echo ""

	if [ -z "$MODE" ] ; then
		MODE="1"
	fi

	mode_configure $MODE

}

camera_select_mode() {

	case "$1" in
	"Full" | "Default")
		MODE="1"
		;;
	* )
		MODE="$1"
		;;
	esac

	mode_configure $MODE
}

mode_configure() {

	if [ -z "$1" ] ; then
		echo "No Mode selected to configure"
		exit 1
	fi

	CAP_FRAME_CNT="8"
	GST_SRC_OPTS=""

	CTRLS=""
	case $1 in
	"1" | "")
		CAM_MODENAME="1920x1200 Full"
		CAM_WIDTH="1920"
		CAM_HEIGHT="1200"
		CAM_OFFSET_TOP="8"
		CAM_OFFSET_LEFT="8"
		CAP_WIDTH="1920"
		CAP_HEIGHT="1200"
		CTRLS="${CTRLS},vertical_blanking=1250"
		;;
	*)	echo "Invalid mode selected: ${MODE}" ; exit 1
	esac

	CTRLS="${CTRLS},row_binning=0,col_binning=0"

	# Remove leading comma, if one exists.
	CAM_MODE_CTRLS=${CTRLS##,}
}
